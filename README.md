defedd
======

README update, Feb 2016:

I'm fEDD Up from Brutal Deluxe, the program that makes the EDD files that this operates on, has been updated to version 2.
And the new page has a link to here, so there may be more eyeballs on this than there were.

I'm updating the README in order to indicate the current status.  Which is basically a mess.  I have a much more
modularized version in development that I haven't pushed up yet, and I hope to be pushing that up soon.

Right now, there is one main thing I would trust the defedd program to do, and that is this:
It can convert an .EDD file generated by I'm fEDD Up (using quarter tracks, going from track 0 to 34 or 35)
into an .fdi container that can be used by Open Emulator.  The way to do that is:

./defedd.py -faq sourcefile.EDD

This will create sourcefile.EDD.fdi, which you can then read in Open Emulator.  Everything else might work, but
probably won't.  If you can manage to comprehend what I was trying to do in the source code, you can see what I
was hoping for.

As I say, I intend for there to be a much more readable and digestable form of this program posted fairly soon.
The -faq option should continue to work throughout, that's what I use mostly.  The rest of the options are
intended to try to do analysis and repair and convert to other formats like .nib, .dsk, etc.  But if they work
right now, it's kind of just luck.

And now, the README I had before:

Disk image conversion from EDD captures to something more useful

Someday I will spend some actual time on this README.  At the moment, this is basically under constant development.

The basic idea is this, though.  Using I'm fEDD Up:

http://www.brutaldeluxe.fr/products/apple2/imfEDDup/

in combination with an EDD4+ card:

https://ultimateapple2.com/catalogzenQI/index.php?main_page=product_info&products_id=2

an Apple II disk can be captured into an EDD file that contains a low-level bit read of the tracks.

This script is for converting those EDD files into something more useful that an emulator can read.

Right now it can convert to .dsk images (most Apple II emulators, for unprotected disks), .nib (most Apple II emulators, for very lightly protected disks), .v2d (Virtual II, a nibble file that allows for half-track resolution and variable-length tracks), .fdi (floppy disk image, usable in Open Emulator).

It does not yet convert to MFI (MESS floppy image, for MESS), but that is one of the goals, and the code for that is partly in but disabled.

It does a lot of analysis and can be quite slow.

It is impossible to get tracks synced perfectly because there is no signal to tell you where you are on the disk.  Some attempts to estimate track advance are made, but it's pretty rough and unreliable.  Disks that require sync may have to be synced by hand individually.

The EDD file contains approximately 2.5 samples of each track, and this script attempts to use them to reconcile the bits.

To see the options, use -h.

To make a fairly quick .fdi file that Open Emulator can use (and which often will work), use options -faq.  This will send all 2.5x samples into an .fdi file.

This assumes the EDD files are at quarter-track resolution.
